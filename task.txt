Задание

Создать один проект из нескольких контрактов, в которых будут выполнены следующие требования:

1. Пользователи смогут покупать ваш токен (токен ERC20 вашего протокола) за USDT, USDC, DAI или Эфир. При этом, ваш протокол должен будет брать комиссию в 10% от общей суммы покупки. Например, покупатель хочет купить 10 myToken за 100 USDC, ему потребуется заплатить 110 USDC для этой покупки. 

2. 10% от покупок вашего токена должны перечисляться на другой контракт для хранения. Для удобства, его можно назвать Treasury или Vault. 

3. Также пользователи могут просто делать вложения в контракт Vault тех же токенов (USDC, USDT, DAI...), за это им будет выдан 1 NFT, как чек за депозит. 

4. Позже пользователи должны иметь возможность вернуть свой NFT и получить назад депозит плюс 2% от токенов, которые были перенесены сюда после покупки myToken (тех 10% сверх). 


Требования к коду

1. Описание протокола с указанием расчетов токенов в readme файле в корневой папке проекта;

2. Комментарии к каждой функции в natspec формате;

3. Комментарии к функциям, где есть движения токенов, как было на практике в уроке - https://t.me/c/2190432570/43

4. Использование библиотеки safe для трансфера токенов;

5. В протоколе должно быть реализовано минимум два call() вызова в любой функции;

6. Проект должен быть создан при помощи программ Hardhat или Foundry, на ваш выбор, чтобы его можно было бы загрузить из GitHub позже и развернуть на другом компьютере, установив зависимости. 


Подсказки

1. Потребуется реализовать функцию whiteList для того, чтобы пользователи могли покупать myToken только за те токены, которые будут одобрены вами.

2. Для простоты приравняем 1 myToken = 1 USDT или любой другой токен. А также 1 myToken = 2 Эфирам.

3. Для создания своего токена вы можете подключать контракты OZ.

4. Старайтесь разбивать контракты по своей логике, т.е. не мешать в одном контракте и myToken, и Vault, и все остальное. 